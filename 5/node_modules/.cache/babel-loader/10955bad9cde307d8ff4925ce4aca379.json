{"remainingRequest":"/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/node_modules/babel-loader/lib/index.js!/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/node_modules/eslint-loader/index.js??ref--13-0!/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/src/vue-apollo.js","dependencies":[{"path":"/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/src/vue-apollo.js","mtime":1575723041706},{"path":"/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5nZXQtb3duLXByb3BlcnR5LWRlc2NyaXB0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9ycyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL2hvbWUvZGV2b3AvU2NocmVpYnRpc2NoL1N5c3RlbXMtRGV2ZWxvcG1lbnQtYW5kLUZyYW1ld29ya3MvNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUtY29yZWpzMy9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CgpmdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfQoKZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKHNvdXJjZSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCmltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IFZ1ZUFwb2xsbyBmcm9tICJ2dWUtYXBvbGxvIjsKaW1wb3J0IHsgY3JlYXRlQXBvbGxvQ2xpZW50LCByZXN0YXJ0V2Vic29ja2V0cyB9IGZyb20gInZ1ZS1jbGktcGx1Z2luLWFwb2xsby9ncmFwaHFsLWNsaWVudCI7IC8vIEluc3RhbGwgdGhlIHZ1ZSBwbHVnaW4KClZ1ZS51c2UoVnVlQXBvbGxvKTsgLy8gTmFtZSBvZiB0aGUgbG9jYWxTdG9yYWdlIGl0ZW0KCnZhciBBVVRIX1RPS0VOID0gImFwb2xsby10b2tlbiI7IC8vIEh0dHAgZW5kcG9pbnQKCnZhciBodHRwRW5kcG9pbnQgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0dSQVBIUUxfSFRUUCB8fCAiaHR0cDovL2xvY2FsaG9zdDo0MDAwL2dyYXBocWwiOyAvLyBGaWxlcyBVUkwgcm9vdAoKZXhwb3J0IHZhciBmaWxlc1Jvb3QgPSBwcm9jZXNzLmVudi5WVUVfQVBQX0ZJTEVTX1JPT1QgfHwgaHR0cEVuZHBvaW50LnN1YnN0cigwLCBodHRwRW5kcG9pbnQuaW5kZXhPZigiL2dyYXBocWwiKSk7ClZ1ZS5wcm90b3R5cGUuJGZpbGVzUm9vdCA9IGZpbGVzUm9vdDsgLy8gQ29uZmlnCgp2YXIgZGVmYXVsdE9wdGlvbnMgPSB7CiAgLy8gWW91IGNhbiB1c2UgYGh0dHBzYCBmb3Igc2VjdXJlIGNvbm5lY3Rpb24gKHJlY29tbWVuZGVkIGluIHByb2R1Y3Rpb24pCiAgaHR0cEVuZHBvaW50OiBodHRwRW5kcG9pbnQsCiAgLy8gWW91IGNhbiB1c2UgYHdzc2AgZm9yIHNlY3VyZSBjb25uZWN0aW9uIChyZWNvbW1lbmRlZCBpbiBwcm9kdWN0aW9uKQogIC8vIFVzZSBgbnVsbGAgdG8gZGlzYWJsZSBzdWJzY3JpcHRpb25zCiAgd3NFbmRwb2ludDogcHJvY2Vzcy5lbnYuVlVFX0FQUF9HUkFQSFFMX1dTIHx8ICJ3czovL2xvY2FsaG9zdDo0MDAwL2dyYXBocWwiLAogIC8vIExvY2FsU3RvcmFnZSB0b2tlbgogIHRva2VuTmFtZTogQVVUSF9UT0tFTiwKICAvLyBFbmFibGUgQXV0b21hdGljIFF1ZXJ5IHBlcnNpc3Rpbmcgd2l0aCBBcG9sbG8gRW5naW5lCiAgcGVyc2lzdGluZzogZmFsc2UsCiAgLy8gVXNlIHdlYnNvY2tldHMgZm9yIGV2ZXJ5dGhpbmcgKG5vIEhUVFApCiAgLy8gWW91IG5lZWQgdG8gcGFzcyBhIGB3c0VuZHBvaW50YCBmb3IgdGhpcyB0byB3b3JrCiAgd2Vic29ja2V0c09ubHk6IGZhbHNlLAogIC8vIElzIGJlaW5nIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXI/CiAgc3NyOiBmYWxzZSAvLyBPdmVycmlkZSBkZWZhdWx0IGFwb2xsbyBsaW5rCiAgLy8gbm90ZTogZG9uJ3Qgb3ZlcnJpZGUgaHR0cExpbmsgaGVyZSwgc3BlY2lmeSBodHRwTGluayBvcHRpb25zIGluIHRoZQogIC8vIGh0dHBMaW5rT3B0aW9ucyBwcm9wZXJ0eSBvZiBkZWZhdWx0T3B0aW9ucy4KICAvLyBsaW5rOiBteUxpbmsKICAvLyBPdmVycmlkZSBkZWZhdWx0IGNhY2hlCiAgLy8gY2FjaGU6IG15Q2FjaGUKICAvLyBPdmVycmlkZSB0aGUgd2F5IHRoZSBBdXRob3JpemF0aW9uIGhlYWRlciBpcyBzZXQKICAvLyBnZXRBdXRoOiAodG9rZW5OYW1lKSA9PiAuLi4KICAvLyBBZGRpdGlvbmFsIEFwb2xsb0NsaWVudCBvcHRpb25zCiAgLy8gYXBvbGxvOiB7IC4uLiB9CiAgLy8gQ2xpZW50IGxvY2FsIGRhdGEgKHNlZSBhcG9sbG8tbGluay1zdGF0ZSkKICAvLyBjbGllbnRTdGF0ZTogeyByZXNvbHZlcnM6IHsgLi4uIH0sIGRlZmF1bHRzOiB7IC4uLiB9IH0KCn07IC8vIENhbGwgdGhpcyBpbiB0aGUgVnVlIGFwcCBmaWxlCgpleHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvdmlkZXIoKSB7CiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9OwoKICAvLyBDcmVhdGUgYXBvbGxvIGNsaWVudAogIHZhciBfY3JlYXRlQXBvbGxvQ2xpZW50ID0gY3JlYXRlQXBvbGxvQ2xpZW50KF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zLCB7fSwgb3B0aW9ucykpLAogICAgICBhcG9sbG9DbGllbnQgPSBfY3JlYXRlQXBvbGxvQ2xpZW50LmFwb2xsb0NsaWVudCwKICAgICAgd3NDbGllbnQgPSBfY3JlYXRlQXBvbGxvQ2xpZW50LndzQ2xpZW50OwoKICBhcG9sbG9DbGllbnQud3NDbGllbnQgPSB3c0NsaWVudDsgLy8gQ3JlYXRlIHZ1ZSBhcG9sbG8gcHJvdmlkZXIKCiAgdmFyIGFwb2xsb1Byb3ZpZGVyID0gbmV3IFZ1ZUFwb2xsbyh7CiAgICBkZWZhdWx0Q2xpZW50OiBhcG9sbG9DbGllbnQsCiAgICBkZWZhdWx0T3B0aW9uczogewogICAgICAkcXVlcnk6IHsvLyBmZXRjaFBvbGljeTogJ2NhY2hlLWFuZC1uZXR3b3JrJywKICAgICAgfQogICAgfSwKICAgIGVycm9ySGFuZGxlcjogZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGVycm9yKSB7CiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgIGNvbnNvbGUubG9nKCIlY0Vycm9yIiwgImJhY2tncm91bmQ6IHJlZDsgY29sb3I6IHdoaXRlOyBwYWRkaW5nOiAycHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyIsIGVycm9yLm1lc3NhZ2UpOwogICAgfQogIH0pOwogIHJldHVybiBhcG9sbG9Qcm92aWRlcjsKfSAvLyBNYW51YWxseSBjYWxsIHRoaXMgd2hlbiB1c2VyIGxvZyBpbgoKZXhwb3J0IGZ1bmN0aW9uIG9uTG9naW4oYXBvbGxvQ2xpZW50LCB0b2tlbikgewogIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXN5bmMoZnVuY3Rpb24gb25Mb2dpbiQoX2NvbnRleHQpIHsKICAgIHdoaWxlICgxKSB7CiAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gInVuZGVmaW5lZCIgJiYgdG9rZW4pIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oQVVUSF9UT0tFTiwgdG9rZW4pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChhcG9sbG9DbGllbnQud3NDbGllbnQpIHJlc3RhcnRXZWJzb2NrZXRzKGFwb2xsb0NsaWVudC53c0NsaWVudCk7CiAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMjsKICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcChhcG9sbG9DbGllbnQucmVzZXRTdG9yZSgpKTsKCiAgICAgICAgY2FzZSA1OgogICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgNzoKICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSgyKTsKICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICBjb25zb2xlLmxvZygiJWNFcnJvciBvbiBjYWNoZSByZXNldCAobG9naW4pIiwgImNvbG9yOiBvcmFuZ2U7IiwgX2NvbnRleHQudDAubWVzc2FnZSk7CgogICAgICAgIGNhc2UgMTA6CiAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgIH0KICAgIH0KICB9LCBudWxsLCBudWxsLCBbWzIsIDddXSk7Cn0gLy8gTWFudWFsbHkgY2FsbCB0aGlzIHdoZW4gdXNlciBsb2cgb3V0CgpleHBvcnQgZnVuY3Rpb24gb25Mb2dvdXQoYXBvbGxvQ2xpZW50KSB7CiAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS5hc3luYyhmdW5jdGlvbiBvbkxvZ291dCQoX2NvbnRleHQyKSB7CiAgICB3aGlsZSAoMSkgewogICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICBjYXNlIDA6CiAgICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oQVVUSF9UT0tFTik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGFwb2xsb0NsaWVudC53c0NsaWVudCkgcmVzdGFydFdlYnNvY2tldHMoYXBvbGxvQ2xpZW50LndzQ2xpZW50KTsKICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUuYXdyYXAoYXBvbGxvQ2xpZW50LnJlc2V0U3RvcmUoKSk7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSA3OgogICAgICAgICAgX2NvbnRleHQyLnByZXYgPSA3OwogICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDIpOwogICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgIGNvbnNvbGUubG9nKCIlY0Vycm9yIG9uIGNhY2hlIHJlc2V0IChsb2dvdXQpIiwgImNvbG9yOiBvcmFuZ2U7IiwgX2NvbnRleHQyLnQwLm1lc3NhZ2UpOwoKICAgICAgICBjYXNlIDEwOgogICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgfQogICAgfQogIH0sIG51bGwsIG51bGwsIFtbMiwgN11dKTsKfQ=="},{"version":3,"sources":["/home/devop/Schreibtisch/Systems-Development-and-Frameworks/4/src/vue-apollo.js"],"names":["Vue","VueApollo","createApolloClient","restartWebsockets","use","AUTH_TOKEN","httpEndpoint","process","env","VUE_APP_GRAPHQL_HTTP","filesRoot","VUE_APP_FILES_ROOT","substr","indexOf","prototype","$filesRoot","defaultOptions","wsEndpoint","VUE_APP_GRAPHQL_WS","tokenName","persisting","websocketsOnly","ssr","createProvider","options","apolloClient","wsClient","apolloProvider","defaultClient","$query","errorHandler","error","console","log","message","onLogin","token","localStorage","setItem","resetStore","onLogout","removeItem"],"mappings":"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","sourcesContent":["import Vue from \"vue\";\nimport VueApollo from \"vue-apollo\";\nimport {\n  createApolloClient,\n  restartWebsockets\n} from \"vue-cli-plugin-apollo/graphql-client\";\n\n// Install the vue plugin\nVue.use(VueApollo);\n\n// Name of the localStorage item\nconst AUTH_TOKEN = \"apollo-token\";\n\n// Http endpoint\nconst httpEndpoint =\n  process.env.VUE_APP_GRAPHQL_HTTP || \"http://localhost:4000/graphql\";\n// Files URL root\nexport const filesRoot =\n  process.env.VUE_APP_FILES_ROOT ||\n  httpEndpoint.substr(0, httpEndpoint.indexOf(\"/graphql\"));\n\nVue.prototype.$filesRoot = filesRoot;\n\n// Config\nconst defaultOptions = {\n  // You can use `https` for secure connection (recommended in production)\n  httpEndpoint,\n  // You can use `wss` for secure connection (recommended in production)\n  // Use `null` to disable subscriptions\n  wsEndpoint: process.env.VUE_APP_GRAPHQL_WS || \"ws://localhost:4000/graphql\",\n  // LocalStorage token\n  tokenName: AUTH_TOKEN,\n  // Enable Automatic Query persisting with Apollo Engine\n  persisting: false,\n  // Use websockets for everything (no HTTP)\n  // You need to pass a `wsEndpoint` for this to work\n  websocketsOnly: false,\n  // Is being rendered on the server?\n  ssr: false\n\n  // Override default apollo link\n  // note: don't override httpLink here, specify httpLink options in the\n  // httpLinkOptions property of defaultOptions.\n  // link: myLink\n\n  // Override default cache\n  // cache: myCache\n\n  // Override the way the Authorization header is set\n  // getAuth: (tokenName) => ...\n\n  // Additional ApolloClient options\n  // apollo: { ... }\n\n  // Client local data (see apollo-link-state)\n  // clientState: { resolvers: { ... }, defaults: { ... } }\n};\n\n// Call this in the Vue app file\nexport function createProvider(options = {}) {\n  // Create apollo client\n  const { apolloClient, wsClient } = createApolloClient({\n    ...defaultOptions,\n    ...options\n  });\n  apolloClient.wsClient = wsClient;\n\n  // Create vue apollo provider\n  const apolloProvider = new VueApollo({\n    defaultClient: apolloClient,\n    defaultOptions: {\n      $query: {\n        // fetchPolicy: 'cache-and-network',\n      }\n    },\n    errorHandler(error) {\n      // eslint-disable-next-line no-console\n      console.log(\n        \"%cError\",\n        \"background: red; color: white; padding: 2px 4px; border-radius: 3px; font-weight: bold;\",\n        error.message\n      );\n    }\n  });\n\n  return apolloProvider;\n}\n\n// Manually call this when user log in\nexport async function onLogin(apolloClient, token) {\n  if (typeof localStorage !== \"undefined\" && token) {\n    localStorage.setItem(AUTH_TOKEN, token);\n  }\n  if (apolloClient.wsClient) restartWebsockets(apolloClient.wsClient);\n  try {\n    await apolloClient.resetStore();\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(\"%cError on cache reset (login)\", \"color: orange;\", e.message);\n  }\n}\n\n// Manually call this when user log out\nexport async function onLogout(apolloClient) {\n  if (typeof localStorage !== \"undefined\") {\n    localStorage.removeItem(AUTH_TOKEN);\n  }\n  if (apolloClient.wsClient) restartWebsockets(apolloClient.wsClient);\n  try {\n    await apolloClient.resetStore();\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.log(\"%cError on cache reset (logout)\", \"color: orange;\", e.message);\n  }\n}\n"]}]}